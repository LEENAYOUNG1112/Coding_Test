#include<iostream>

using namespace std;

const int SIZE = 5;
int Compare(int(*qArray)[SIZE], int* qBingo);
int InGame();

int main()
{
	InGame();
}
int InGame()
{

	int iArray[SIZE][SIZE] = {
		{1,  2,  3,  4,  5},
		{6,  7,  8,  9,  10},
		{11, 12, 13, 14, 15},
		{16, 17, 18, 19, 20},
		{21, 22, 23, 24, 25}
	};

	int iNumber;
	int iBingo(0);

	int* qBingo = &iBingo;
	
	// 첫 화면
	for (int i = 0; i < SIZE; i++)
	{
		for (int j = 0; j < SIZE; j++)
		{
			cout << iArray[i][j] << "	";
		}
		cout << endl;
	}

	while(1)
	{
		cout << "▶▶ Enter a number between 1 and 25 ◀◀" << endl;
		cin >> iNumber;

		// 0으로 바꿔주기
		for (int y = 0; y < SIZE; y++)
		{
			for (int x = 0; x < SIZE; x++)
			{
				if (iArray[y][x] == iNumber)
				{
					iArray[y][x] = 0;
					break;
				}
				
			}
		}

		
		if (1 > iNumber && iNumber > 25)
		{
			cout << "▶ It's a number that doesn's ◀" << endl;
			continue;
		}

		system("cls");

		for (int y = 0; y < SIZE; y++)
		{
			for (int x = 0; x < SIZE; x++)
			{
				cout << iArray[y][x] << "	";
			}
			cout << endl;
		}

		Compare(iArray, qBingo);

		if (*qBingo == 3)
		{
			cout << "▶ THREE BINGO!! ◀" << endl;
				break;
		}
	}
	return 0; 
}

int Compare(int(*qArray)[SIZE], int* qBingo)
{
	static int horizontial[SIZE];
	static int vertical[SIZE];

	// 가로 빙고
	for(int y = 0; y < SIZE; y++)
	{
		int sum(0);
		for (int x = 0; x < SIZE; x++)
		{
			if (*(qArray[y] + x) == 0)
			{
				sum++;
			}
		}
		if (sum == 5)
		{
			if(horizontial[y] != 1)
			{
				horizontial[y] = 1;
				*qBingo += 1; // ++는 안 된다
				cout << *qBingo << " BINGO!" << endl;
			}

		}
		else
		{
			sum = 0;
		}
	}

	//세로 빙고
	for (int x = 0; x < SIZE; x++)
	{
		int sum(0);
		for (int y = 0; y < SIZE; y++)
		{
			if (*(qArray[y] + x) == 0)
			{
				sum++;
			}
		}
		if (sum == 5)
		{
			if (vertical[x] != 1)
			{
				vertical[x] = 1;
				*qBingo += 1; // ++는 안 된다
				cout << *qBingo << " BINGO!" << endl;
			}

		}
		else
		{
			sum = 0;
		}
	}

	// 대각선 빙고
	int sum(0);
	static int diagonal[SIZE];

	for(int j = 0; j < SIZE; j++)
	{
		if (*(qArray[j] + j) == 0)
		{
			sum++;
		}

		if (sum == 5)
		{
			if (diagonal[j] != 1)
			{
				diagonal[j] = 1;
				*qBingo += 1; // ++는 안 된다
				cout << *qBingo << " BINGO!" << endl;
			}
		}
	}
	sum = 0;

	int bsum(0);
	// 역대각선 안 함
	static int bDiagonal[SIZE];

	for (int i = 0; i < SIZE; i++)
	{
		if (*(qArray[i] + SIZE - 1 - i) == 0)
		{
			bsum++;
		}
		if (bsum == 5)
		{
			if (bDiagonal[i] != 1)
			{
				bDiagonal[i] = 1;
				*qBingo += 1; // ++는 안 된다
				cout << *qBingo << " Bingo!" << endl;
			}
		}
	}
	return 0;
}
